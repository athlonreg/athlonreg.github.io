<!DOCTYPE HTML><html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="keywords" content="Hacintosh,黑苹果,AppleALC,声卡"><meta name="description" content="专注优质应用分享与技术经验交流。"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="baidu_union_verify" content="4e839f89679ffccd45aadacf60546450"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-165042084-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-165042084-1")</script><title>利用 AppleALC 驱动声卡 | 套陆的部落阁</title><link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/awesome/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/materialize/materialize.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/aos/aos.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/animate/animate.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/css/matery.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/css/my.css"><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/live2d/autoload.js"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?849cf4fa113bc36fac5697a548d0e27c";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>document.write('<script src="https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba" id="sozz"><\/script>')</script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/jquery/jquery.min.js"></script><script data-ad-client="ca-pub-7406269002228687" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="套陆的部落阁" type="application/atom+xml"><link rel="stylesheet" href="/css/prism-tomorrow.css"><link rel="stylesheet" href="/css/prism-line-numbers.css"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/favicon.ico" class="logo-img" alt="LOGO"> <span class="logo-span">套陆的部落阁</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>标签</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>归档</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fas fa-comments" style="zoom:.6"></i> <span>留言板</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fas fa-address-book" style="zoom:.6"></i> <span>友情链接</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/favicon.ico" class="logo-img circle responsive-img"><div class="logo-name">套陆的部落阁</div><div class="logo-desc">专注优质应用分享与技术经验交流。</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> 标签</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 归档</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fa-fw fas fa-comments"></i> 留言板</a></li><li class="m-nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fa-fw fas fa-address-book"></i> 友情链接</a></li><li><div class="divider"></div></li><li><a href="https://github.com/athlonreg" rel="external nofollow noreferrer" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i> Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/athlonreg" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/cryptojs/crypto-js.min.js"></script><script>(function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();</script><div class="bg-cover pd-header post-cover" style="background-image:url(https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/medias/featureimages/15.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">利用 AppleALC 驱动声卡</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px}.toc-widget .toc-title{margin:35px 0 15px 0;padding-left:17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{height:calc(100vh - 250px);overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px;position:absolute;right:23.5vw;display:block}#toc-content .is-active-link{color:#42b983}#floating-toc-btn{position:fixed;right:25px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/Hacintosh/"><span class="chip bg-color">Hacintosh</span></a> <a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/"><span class="chip bg-color">黑苹果</span></a> <a href="/tags/AppleALC/"><span class="chip bg-color">AppleALC</span></a> <a href="/tags/%E5%A3%B0%E5%8D%A1/"><span class="chip bg-color">声卡</span></a></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/Hackintosh/" class="post-category">Hackintosh</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i> 发布日期:&nbsp;&nbsp; 2017-11-06</div><div class="post-date info-break-policy"><i class="far fa-calendar-check fa-fw"></i> 更新日期:&nbsp;&nbsp; 2020-05-25</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i> 文章字数:&nbsp;&nbsp; 3.5k</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i> 阅读时长:&nbsp;&nbsp; 13 分</div><div id="busuanzi_container_page_pv" class="info-break-policy"><i class="far fa-eye fa-fw"></i> 阅读次数:&nbsp;&nbsp;<span id="busuanzi_value_page_pv"></span></div></div></div><hr class="clearfix"><div class="card-content article-card-content"><div id="articleContent"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>在<code>vit9696</code>推出<code>AppleALC</code>后，经过越来越多人仿冒声卡得到的数据的提交整理，<code>AppleALC</code>的数据越来越集中，也使声卡驱动变得越来越简单。</p><p>本文提供使用<code>AppleALC</code>驱动声卡的思路以及常见错误和驱动后的问题进行修复。</p></blockquote><h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><ul><li><p>需要下载<code>Xcode</code></p><blockquote><p>在<code>AppleStore</code>下载</p></blockquote></li><li><p>下载<code>AppleALC</code></p><blockquote><p>通过终端执行下面的命令，会下载到你的用户根目录</p></blockquote></li></ul><pre><code>$ git clone https://github.com/vit9696/AppleALC</code></pre><ul><li>下载<code>Lilu</code><blockquote><p>在下面的网址下载<code>DEBUG</code>和<code>RELEASE</code></p></blockquote></li></ul><pre><code>https://github.com/vit9696/Lilu/releases</code></pre><ul><li>提取<code>Codec</code><blockquote><p>这一步需要用到<code>Linux</code>环境，首先下载<code>Ubuntu</code>镜像，我个人提供一个</p></blockquote></li></ul><pre><code>链接:http://pan.baidu.com/s/1i47I0jN  密码:de4v</code></pre><blockquote><p>当然也可以去官网下载，下载好镜像之后，将<code>U</code>盘格式化为<code>Fat32</code>，然后将镜像解压到<code>U</code>盘，重启以<code>U</code>盘启动，选择试用进入<code>Ubuntu</code>系统界面，打开终端输入</p></blockquote><pre><code>$ cat /proc/asound/card0/codec#0 &gt; ~/Desktop/Codec.txt</code></pre><blockquote><p>执行完后会将<code>Codec.txt</code>提取到桌面，将其保存到<code>U</code>盘</p></blockquote><p><strong>PS: 一般来说提取的<code>Codec</code>会有<code>10k</code>左右大小，如果大小不够，很有可能提取错误，可以尝试以下命令</strong></p><pre><code>$ cat /proc/asound/card0/codec#1 &gt; ~/Desktop/Codec.txt</code></pre><blockquote><p>或者</p></blockquote><pre><code>$ cat /proc/asound/card0/codec#2 &gt; ~/Desktop/Codec.txt</code></pre><blockquote><p>或者</p></blockquote><pre><code>$ cat /proc/asound/card1/codec#0 &gt; ~/Desktop/Codec.txt</code></pre><h2 id="Codec-txt的数据整理"><a href="#Codec-txt的数据整理" class="headerlink" title="Codec.txt的数据整理"></a><code>Codec.txt</code>的数据整理</h2><ul><li>记录<code>Address</code>和<code>Vendor Id</code>值</li></ul><blockquote><p><code>Codec.txt</code>开头部分</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0rlxkhmkj31qc1f6awh.jpg" alt=""></p><ul><li>提取节点信息</li></ul><blockquote><p>搜索<code>Pin Default</code>记录<code>Node</code>和节点描述，以我的为例</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0rp1h1zqj31qc1f6tu9.jpg" alt=""></p><p><strong>PS: N/A节点无效无需整理</strong></p><ul><li>记录<code>HP Out at Ext Left</code>节点的<code>tag</code>和<code>enable</code>值</li></ul><blockquote><p>PS: Unsolicited Response的设定是为了解决耳机和外放切换的问题。<br>需设定 HP Out at Ext 所在的节点，并且节点信息中有Unsolicited: tag=xx, enabled=1 这一行。<br>设定命令为Address+NodeID+708+&lt;设定值&gt;</p><p>设定值是8位的一个二进制数，记作a7 a6 a5 a4 a3 a2 a1 a0，推算出此二进制数之后，四四拆分转换为2位的十进制数加1即为此设定值</p><p>a7表示enabled。<br>a6=0，没具体应用，不用管。<br>a5~a0，存放tag。**</p></blockquote><ul><li>记录<code>Mic at Ext</code>节点的<code>Pin-ctls</code>值</li></ul><blockquote><p>PS: Pin Control Widget的设定是为了解决耳机杂音的。</p><p>需要设定的是 Mic at Ext 所在的节点，设定的值可以从codec dump中读取。</p><p>设定命令是 Address+NodeID+707+Pin-ctls值。</p></blockquote><blockquote><p>整理完后，会得到如下所示的数据集合</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0ruzqsv0j31qc1f6h0k.jpg" alt=""></p><p><strong>PS: 常见的节点设备描述如下：</strong></p><blockquote><p><code>Mic at Ext</code>–线路输入(耳麦)</p><p><code>Mic at In</code>–内建输入</p><p><code>HP Out</code>–耳机扬声器</p><p><code>Speaker</code>–内建扬声器(外放)</p></blockquote><p align="center"><b>至此，Codec 数据的整理到此结束</b></p><h2 id="AppleALC中数据的筛选"><a href="#AppleALC中数据的筛选" class="headerlink" title="AppleALC中数据的筛选"></a><code>AppleALC</code>中数据的筛选</h2><blockquote><p>依次打开下载的<code>AppleALC</code>源码里面<code>/AppleALC/Resources/PinConfigs.kext/Contents</code>下的<code>Info.plist</code></p><p>搜索之前记录的<code>CodecID</code></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0rr0c3j7j31i21fc1bi.jpg" alt=""></p><blockquote><p>记录搜索到的所有的<code>ID</code>中的<code>configdata</code>，如下整理</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0rtddnoij31qc1f6tn4.jpg" alt=""></p><blockquote><p>每一行的每一串的第一个字符代表<code>Address</code>值</p></blockquote><blockquote><p>每一行的第三串倒数第二个字符代表这个节点的设备描述，具体对应关系如下</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0rsd7nz6j30u00zagt5.jpg" alt=""></p><blockquote><p>根据上图设备对应关系和<code>Address</code>值排除掉无效的<code>ID</code>数据</p></blockquote><h2 id="开工"><a href="#开工" class="headerlink" title="开工"></a>开工</h2><ul><li>将下载的<code>Debug</code>的<code>Lilu.kext</code>放进 AppleALC 源码根目录；</li><li>删除<code>/AppleALC/Resources</code>中多余文件夹，只留下你的声卡型号文件夹、<code>Pinconfigs.kext</code>以及四个<code>plist</code>文件，以<code>cx20751</code>这个声卡为例剩下如下文件</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0rwbp9r0j31js11i12t.jpg" alt=""></p><ul><li>然后打开计算器，显示为编程器</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0rwzv78dj30sc0wmdm0.jpg" alt=""></p><ul><li>打开你整理的<code>Codec</code>，找到<code>Vendor Id</code>，拷贝后面的字符串，在计算器选中十六进制，粘贴这个字符串</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0rxl8nrzj30sc0wmgqq.jpg" alt=""></p><ul><li>然后选中十进制，就换转换成十进制形式</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0rxs4ee3j30sc0wmdl1.jpg" alt=""></p><ul><li>拷贝这个十进制数，打开<code>/AppleALC/Resources/CX20751_2/Info.plist</code>(此处的<code>CX20751_2</code>需要换成你的声卡型号)，把<code>codecid</code>换成刚才拷贝的十进制数</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0rzb85g2j31i21fcam3.jpg" alt=""></p><ul><li><p>保存退出，右键<code>PinConfigs.kext</code>显示包内容，打开里面的<code>Info.plist</code>，搜索刚才拷贝的十进制数，记下<code>LayoutID</code>数据，有几个记几个，都记下来，然后将<code>IOKitPersonalities-&gt;HDA Hardware Config Resource-&gt;HDAConfigDefault</code>中的其他型号删除，(为避免出错，这里的删除可以不操作，删除只是为了精简做出来的<code>AppleALC</code>)，保存退出。</p></li><li><p>然后双击打开 AppleALC 中的工程文件：</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0s19qdobj32cg1fau0r.jpg" alt=""></p><ul><li>按图示操作</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0s1lqb2zj32gy1fa1kx.jpg" alt=""></p><ul><li>点击右面的<code>Distribute Content</code></li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0s2jqwz6j320w18q7h5.jpg" alt=""></p><ul><li>next</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0s2qqvltj320w18qnaw.jpg" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0s3cxnnhj320w18qaoa.jpg" alt=""></p><ul><li><code>Export As</code>填上桌面，点<code>export</code>就生成<code>AppleALC</code>在桌面上了，一层一层打开它，将其中的<code>AppleALC.kext</code>放到<code>clover</code>驱动目录，注意之前下载的<code>Release</code>的<code>Lilu</code>也要放到<code>clover</code>驱动目录，最后不要忘了注入<code>LayoutID</code>：</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0s69hvhfj31rg1fi4fa.jpg" alt=""></p><ul><li>如果重启后你的声卡不能驱动，或者已驱动但是没有输入或输出，这时很有可能是该<code>LayoutID</code>对应的<code>configdata</code>数据有错误，这时就挨个尝试刚才记录的所有<code>ID</code>。</li></ul><p align="center"><b>至此， AppleALC 驱动声卡部分结束。</b></p><h2 id="关于解决耳机与内建输入的切换"><a href="#关于解决耳机与内建输入的切换" class="headerlink" title="关于解决耳机与内建输入的切换"></a>关于解决耳机与内建输入的切换</h2><blockquote><p>如果驱动工作完成后，声卡可以工作，但不能自动切换，请接着往下看</p></blockquote><ul><li>打开终端，输入</li></ul><pre><code>git clone https://github.com/goodwin/ALCPlugFix </code></pre><ul><li>回车就将<code>ALCPlugFix</code>下载到了你的用户目录，打开此目录中的<code>ALCPlugFix</code>中的<code>main.m</code>下拉到最下方，注意这一部分：</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0s84o8vij31qc1f6twi.jpg" alt=""></p><ul><li>下载<a href="https://github.com/RehabMan/EAPD-Codec-Commander.git" target="_blank" rel="noopener external nofollow noreferrer"><code>CodecCommander</code></a></li></ul><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">git</span> clone https://github.com/athlonreg/ALCPlugFix.git
$ <span class="token function">git</span> clone https://github.com/RehabMan/EAPD-Codec-Commander.git
$ <span class="token function">cp</span> ALCPlugFix/alc_fix/hda-verb /usr/local/bin/
$ <span class="token function">cd</span> EAPD-Codec-Commander
$ ./widget_dump.sh <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>回车</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0swd71qcj31p818kank.jpg" alt=""></p><ul><li>找到<code>nid = 0x19</code>和<code>nid = 0x1a</code>，这里我的<code>19</code>为 <code>line in</code>，<code>1a</code>为<code>mic in</code>，记录下最后两位，我的是<code>04</code>和<code>24</code>就这么改</li></ul><p><strong>PS: 这里需要设定的节点数据分别是<code>line in</code>和<code>mic in</code>，其他节点无效，思想就是捕获系统在不插耳机时由于其输入输出正常的这两个节点的输出值，然后就可以知道插耳机正常应该输出的值，进而利用<code>AppleALC</code>守护进程动态守护。如果出现插耳机正常，不插无效的情况，请按照这个思路反过来操作，思想都是一样的。其中图上的高亮处最上面一部分是默认情况，中间是耳机移除，最下面是耳机插入，请结合自身使用情况合理设定</strong></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0syo8oezj31qc1f6qqy.jpg" alt=""></p><ul><li><p>保存退出，双击按照<code>AppleALC</code>的编译方法编译这个</p></li><li><p>然后将生成的<code>ALCPlugFix</code>替换<code>alc_fix</code>中的<code>ALCPlugFix</code>，终端<code>cd</code>到<code>alc_fix</code>目录，执行</p></li></ul><pre><code>$ ./install.sh</code></pre><ul><li>耳机就可以自动切换了，三节点的朋友运气好的话杂音应该也解决了，这时插入耳机在执行</li></ul><pre><code>$ ./widget_dump.sh </code></pre><ul><li>就可以发现之前的<code>19</code>和<code>1a</code>后面的数据反过来了(我这里是修复好的，就不再演示了。。。)</li></ul><blockquote><p>其实这里的数据就是侦测耳机插拔状态，向系统发送相关指令来做到切换正常</p><p>需要设定的就是两个节点<code>Mic at Ext</code>(有时是<code>Line In</code>)和<code>Mic at In</code></p><p><code>Mic at Ext</code>(有时是<code>Line In</code>)表示线路输入，即<code>耳麦</code>，多为<code>0x19</code>节点</p><p><code>Mic at In</code>为内建输入</p></blockquote><ul><li>如果不行重启一次应该就好了。</li></ul><p align="center"><b>至此，解决耳机与内建输入的切换部分结束。</b></p><h2 id="关于唤醒无声"><a href="#关于唤醒无声" class="headerlink" title="关于唤醒无声"></a>关于唤醒无声</h2><blockquote><p>可以先尝试下面两个驱动</p><p><a href="https://github.com/RehabMan/EAPD-Codec-Commander" target="_blank" rel="noopener external nofollow noreferrer">CodecCommander</a><br><a href="http://pan.baidu.com/s/1nuTUVS9" target="_blank" rel="noopener external nofollow noreferrer">EAPDFix</a> 提取密码:<code>w4yr</code></p></blockquote><p><strong>PS: 关于<code>CodecCommander</code>，可以<a href="https://github.com/RehabMan/EAPD-Codec-Commander/blob/master/README.md" target="_blank" rel="noopener external nofollow noreferrer">点击这里</a>参考<code>RehabMan</code>的说明</strong></p><blockquote><p>另外四叶草助手中也提供了相关选项(<code>ResetHDA</code>和<code>dartweak</code>)，但是本人没有亲自尝试，大家可以自行尝试这些组合：</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0stj21kcj3220180dvi.jpg" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0st47xc9j32201801a0.jpg" alt=""></p><p align="center"><b>本人对唤醒无声研究不多，至此，解决耳机与内建输入的切换部分结束，欢迎补充。</b></p><h2 id="关于万能声卡"><a href="#关于万能声卡" class="headerlink" title="关于万能声卡"></a>关于万能声卡</h2><blockquote><p>很多人不喜欢万能声卡，说万能有杂音(但是<code>有一些人的AppleALC</code>也可能有杂音)，甚至说用万能声卡是不完美的表现，其实我认为不然，万能是一种很好的渠道，有不少人用万能声卡，他们的切换、输入甚至<code>HDMI</code>都能很好的输出，而且杂音也是可以减小的。</p><p>这里我给出官方的项目地址，有兴趣的可以试一下</p><p><a href="https://sourceforge.net/projects/voodoohda/" target="_blank" rel="noopener external nofollow noreferrer">https://sourceforge.net/projects/voodoohda/</a></p></blockquote><p><strong>PS: 需要注意的是有人用的是<code>VoodooHDA.pkg</code>安装的，这种情况需要将<code>AppleHDADisabler.kext</code>放到<code>Clover</code>的驱动目录来禁用<code>AppleHDA</code>，否则很有可能会造成<code>KP</code>五果，所以我建议直接用<code>kext</code>，让<code>Clover</code>注入器注入即可。</strong></p><h2 id="关于完整仿冒"><a href="#关于完整仿冒" class="headerlink" title="关于完整仿冒"></a>关于完整仿冒</h2><h3 id="前言-1"><a href="#前言-1" class="headerlink" title="前言"></a>前言</h3><blockquote><p>声卡型号众多，虽然<code>AppleALC</code>让数据更集中了，但还是有些声卡不在目前的<code>AppleALC</code>支持的列表里面，对于这种情况来说，我们只能完整制作仿冒声卡。</p><p>接下来以我的<code>CX20751</code>为例简述仿冒声卡制作过程。</p></blockquote><h3 id="完整制作仿冒声卡思路"><a href="#完整制作仿冒声卡思路" class="headerlink" title="完整制作仿冒声卡思路"></a>完整制作仿冒声卡思路</h3><ul><li>整理<code>Codec</code>，提取所有有效<code>Node</code>值</li><li>将整理出的所有<code>Node</code>的<code>Pin Default</code>值进行转换得出需要的值</li><li>根据某些规律或者规则得出<code>ConfigData</code></li><li><code>PathMap</code>的获取和整理</li></ul><h3 id="知识普及"><a href="#知识普及" class="headerlink" title="知识普及"></a>知识普及</h3><blockquote><p>每一个<code>Node</code>的<code>ConfigData</code>值都是由四个八位的字符串组成，这四个串的最后两位分别是一个八位的设定值的1 2、3 4、5 6、7 8位，这四个八位的字符串的设定规则分别是是<code>Address+Node+71C+1 2位设定值</code>、<code>Address+Node+71D+3 4位设定值</code>、<code>Address+Node+71E+5 6位设定值</code>、<code>Address+Node+71F+7 8位设定值</code>。</p><p>这里需要注意，有两个不同的八位被提及，其中一个八位(这八位每一位都有特定的含义，也是仿冒成功最关键的地方，在后面我称之为设定值)是被均分四份从而放到<code>ConfigData</code>的各个节点所对应的四个串的七八位</p><p>而这个八位的设定值每一位的含义如下：</p></blockquote><ul><li>第一位：代表节点设定值(Address)，一般不需要改变；</li><li>第二位：同组装置的优先顺序，一般为 0~3，不可出现字母；</li><li>第三位：插口颜色，笔记本忽略，不作处理；</li><li>第四位：插孔侦测，0为开启(外设基本为0)，1为关闭(内建基本为1)；</li><li>第五位：装置类型，笔记本忽略；</li><li>第六位：连接类型，圆口为1，内接为0，基本可以忽略；</li><li>第七位：代表是否有插孔及插孔位置0=外接，9=内建，耳机扬声器和耳麦均为外接；</li><li>第八位：代表插孔所在位置，0=内建，1=外接；</li></ul><h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><h4 id="整理Codec，提取所有有效Node值"><a href="#整理Codec，提取所有有效Node值" class="headerlink" title="整理Codec，提取所有有效Node值"></a>整理<code>Codec</code>，提取所有有效<code>Node</code>值</h4><blockquote><p>与上面利用<code>AppleALC</code>的思路不同，这里我们需要提取的数据有设备描述、<code>Node</code>值和<code>Pin Default</code>值。具体提取方法上文已有说明，这里不再赘述，下面是我的<code>CX20751</code>提取的数据：</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0t2suhufj31qc1f64ef.jpg" alt=""></p><h4 id="将整理出的所有Node的Pin-Default值进行转换修正得出需要的设定值"><a href="#将整理出的所有Node的Pin-Default值进行转换修正得出需要的设定值" class="headerlink" title="将整理出的所有Node的Pin Default值进行转换修正得出需要的设定值"></a>将整理出的所有<code>Node</code>的<code>Pin Default</code>值进行转换修正得出需要的设定值</h4><ul><li>对于<code>Pin Default</code>值，我们的处理方法为八位四分、二二逆置，例如<code>0x16</code>节点，首先得出<code>40 10 21 03</code>，同理得出：</li></ul><pre><code>0x16: 40 10 21 03
0x17: 10 01 17 90
0x19: 30 10 A1 03
0x1a: 20 01 A7 95</code></pre><blockquote><p>根据八位设定值的规则描述，对上面得出的设定值进行修正。</p><p>拿<code>0x16</code>为例，这是一个耳机扬声器节点。</p><p>第1、2、3位没什么好说的保持不变；<br>第4位插孔侦测，耳机设备属于外接设备，所以应当是0，这里是0不用动；<br>第5位装置类型笔记本忽略；<br>第6位连接类型，插口为圆口，所以是1，这里是1，保持不变；<br>第7位代表是否有插孔，耳机是外接设备，所以是0，这里是0，保持不变；<br>第8位插孔所在位置，耳机是外接设备，所以是1；</p><p>其他<code>Node</code>节点也是如此设定；</p><p>修正后的数据如下：</p></blockquote><pre><code>0x16: 40 10 21 01
0x17: 10 01 17 90
0x19: 30 10 81 01
0x1a: 20 01 A0 90</code></pre><h4 id="根据规律或者规则得出ConfigData"><a href="#根据规律或者规则得出ConfigData" class="headerlink" title="根据规律或者规则得出ConfigData"></a>根据规律或者规则得出<code>ConfigData</code></h4><blockquote><p>根据上面得出的设定值，我可以得出以下<code>ConfigData</code>值：</p></blockquote><pre><code>01671C40 01671D10 01671E21 01671F01
01771C10 01771D01 01771E17 01771F90
01971C30 01971D10 01971E81 01971F01
01a71C20 01a71D01 01a71EA0 01a71F90</code></pre><p><strong>PS: 搜索一下codec里面有没有<code>EAPD</code>这个字符串，有的话就在<code>ConfigData</code>的最后面加上一串<code>01470C02</code>这组数字。</strong></p><h4 id="PathMap的获取和整理"><a href="#PathMap的获取和整理" class="headerlink" title="PathMap的获取和整理"></a><code>PathMap</code>的获取和整理</h4><blockquote><p>在声卡仿冒的过程中这一步是最麻烦的。有几个需要注意的地方。</p><p>对于声音节点来说，节点路径的推断遵循一个规律：</p><p>输入是从后往前推断节点，输出是从前往后推。</p></blockquote><ul><li>首先利用<code>codecgraph</code>得到路径图，该操作需要安装<code>graphviz</code>，这里我推荐利用终端<code>npm install graphviz</code>安装即可，然后执行下面的命令下载<code>codecgraph</code></li></ul><pre><code>$ git clone https://github.com/athlonreg/codecgraph.git </code></pre><ul><li>这样就下载到了你的用户根目录，将你的<code>Codec.txt</code>拷贝到下载的<code>codecgraph</code>目录下，然后</li></ul><pre><code>$ cd codecgraph
$ ./codecgraph Codec.txt</code></pre><ul><li>就在<code>codecgraph</code>目录下生成了你的声卡路径图，格式为<code>svg</code>，用<code>safari</code>即可打开，当然也可以转换为其他格式，例如我的</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/006dLY5Ily1fy0t3vra4yj31u60f2n07.jpg" alt=""></p><ul><li>可以看到<code>0x16</code>节点只连接了<code>0x10</code>，<code>HP Out</code>为输出，从前往后推，转换为十进制得到<code>0x22 -&gt; 0x16</code>;</li><li><code>0x17</code>节点只连接了<code>0x11</code>，<code>Speaker</code>为输出，从前往后推，转换为十进制得到<code>0x23 -&gt; 0x17</code>;</li><li><code>0x19</code>节点只连接了<code>0x14</code>，<code>Mic at Int</code>为输入，从后往前推，转换为十进制得到<code>0x20 -&gt; 0x25</code>;</li><li><code>0x1a</code>节点只连接了<code>0x13</code>，<code>Mic at Ext</code>为输入，从后往前推，转换为十进制得到<code>0x19 -&gt; 0x26</code>;</li></ul><blockquote><p>整理得到路径如下：</p></blockquote><table><thead><tr><th>设备名称</th><th>有效节点</th><th>路径</th></tr></thead><tbody><tr><td>HP Out</td><td>0x16</td><td>0x22-&gt;0x16</td></tr><tr><td>Speaker Out</td><td>0x17</td><td>0x23-&gt;0x17</td></tr><tr><td>Mic In</td><td>0x1a</td><td>0x26&lt;-0x19 0x26&lt;-0x20</td></tr><tr><td>Line In</td><td>0x19</td><td>0x25&lt;-0x20 0x26&lt;-0x19</td></tr></tbody></table><p><strong>PS: 我的声卡比较奇葩，对于多数声卡来说，输入一般为<code>0x8 -&gt; 0x35 -&gt; 0x18</code>，输出一般为<code>0x33 -&gt; 0x13 -&gt; 0x3</code></strong></p><h2 id="AppleHDA-修改"><a href="#AppleHDA-修改" class="headerlink" title="AppleHDA 修改"></a>AppleHDA 修改</h2><h2 id="Credit"><a href="#Credit" class="headerlink" title="Credit"></a>Credit</h2><p><a href="https://github.com/vit9696" target="_blank" rel="noopener external nofollow noreferrer">vit9696</a><br><a href="https://github.com/goodwin/ALCPlugFix" target="_blank" rel="noopener external nofollow noreferrer">goodwin</a><br><a href="https://github.com/RehabMan" target="_blank" rel="noopener external nofollow noreferrer">RehabMan</a><br><a href="https://github.com/Dolnor/EAPD-Codec-Commander" target="_blank" rel="noopener external nofollow noreferrer">Dolnor</a><br><a href="https://github.com/daliansky" target="_blank" rel="noopener external nofollow noreferrer">daliansky</a><br><a href="https://sourceforge.net/projects/voodoohda/" target="_blank" rel="noopener external nofollow noreferrer">VoodooHDA</a></p><h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><blockquote><p>码字不易，如果觉得文章不错，欢迎打赏，你们的支持是我最大的动力。</p></blockquote></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者:</i></span> <span class="reprint-info"><a href="https://blog.tlhub.cn" rel="external nofollow noreferrer">套陆</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接:</i></span> <span class="reprint-info"><a href="https://blog.tlhub.cn/Driver-audio-for-hackintosh.html">https://blog.tlhub.cn/Driver-audio-for-hackintosh.html</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明:</i></span> <span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tlhub.cn" target="_blank">套陆</a> !</span></div></div><script async defer>document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/Hacintosh/"><span class="chip bg-color">Hacintosh</span></a> <a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/"><span class="chip bg-color">黑苹果</span></a> <a href="/tags/AppleALC/"><span class="chip bg-color">AppleALC</span></a> <a href="/tags/%E5%A3%B0%E5%8D%A1/"><span class="chip bg-color">声卡</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/share/js/social-share.min.js"></script></div></div></div><style>#reward{margin:40px 0;text-align:center}#reward .reward-link{font-size:1.4rem;line-height:38px}#reward .btn-floating:hover{box-shadow:0 6px 12px rgba(0,0,0,.2),0 5px 15px rgba(0,0,0,.2)}#rewardModal{width:320px;height:350px}#rewardModal .reward-title{margin:15px auto;padding-bottom:5px}#rewardModal .modal-content{padding:10px}#rewardModal .close{position:absolute;right:15px;top:15px;color:rgba(0,0,0,.5);font-size:1.3rem;line-height:20px;cursor:pointer}#rewardModal .close:hover{color:#ef5350;transform:scale(1.3);-moz-transform:scale(1.3);-webkit-transform:scale(1.3);-o-transform:scale(1.3)}#rewardModal .reward-tabs{margin:0 auto;width:210px}.reward-tabs .tabs{height:38px;margin:10px auto;padding-left:0}.reward-content ul{padding-left:0!important}.reward-tabs .tabs .tab{height:38px;line-height:38px}.reward-tabs .tab a{color:#fff;background-color:#ccc}.reward-tabs .tab a:hover{background-color:#ccc;color:#fff}.reward-tabs .wechat-tab .active{color:#fff!important;background-color:#22ab38!important}.reward-tabs .alipay-tab .active{color:#fff!important;background-color:#019fe8!important}.reward-tabs .reward-img{width:210px;height:210px}</style><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/medias/reward/wechatpay.jpg" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/gitalk/gitalk.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/css/my-gitalk.css"><div class="card gitalk-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="gitalk-container" class="card-content"></div></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/gitalk/gitalk.min.js"></script><script>let gitalk = new Gitalk({
        clientID: 'ae84231acb9f9d755d64',
        clientSecret: '999406dd97c504a700abe350a711868e1000fcec',
        repo: 'athlonreg.github.io',
        owner: 'athlonreg',
        admin: "athlonreg",
        id: '2017-11-06T00-00-00',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i> &nbsp;上一篇</div><div class="card"><a href="/Install-macOS-on-laptop.html"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/89/2b0a9ae60f8cfa0161b2fc28da0808.jpg" class="responsive-img" alt="笔记本原版黑苹果安装教程"> <span class="card-title">笔记本原版黑苹果安装教程</span></div></a><div class="card-content article-content"><div class="summary block-with-text">Install macOS on laptop 原版黑苹果安装参考贴</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2017-12-12</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/Hackintosh/" class="post-category">Hackintosh</a></span></div></div><div class="card-action article-tags"><a href="/tags/Hacintosh/"><span class="chip bg-color">Hacintosh</span></a> <a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/"><span class="chip bg-color">黑苹果</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/RW-NTFS-partition-natively-on-macOS.html"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/medias/featureimages/22.jpg" class="responsive-img" alt="实现 MAC 原生读写 NTFS 分区"> <span class="card-title">实现 MAC 原生读写 NTFS 分区</span></div></a><div class="card-content article-content"><div class="summary block-with-text">实现 MAC 原生读写 NTFS 分区</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2017-10-27</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/Hackintosh/" class="post-category">Hackintosh</a></span></div></div><div class="card-action article-tags"><a href="/tags/Hacintosh/"><span class="chip bg-color">Hacintosh</span></a> <a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/"><span class="chip bg-color">黑苹果</span></a> <a href="/tags/NTFS/"><span class="chip bg-color">NTFS</span></a></div></div></div></div></article></div><script>$("#articleContent").on("copy",function(e){if(void 0!==window.getSelection){var n=window.getSelection();if(!((""+n).length<Number.parseInt("60"))){var t=document.getElementsByTagName("body")[0],o=document.createElement("div");o.style.position="absolute",o.style.left="-99999px",t.appendChild(o),o.appendChild(n.getRangeAt(0).cloneContents()),"PRE"===n.getRangeAt(0).commonAncestorContainer.nodeName&&(o.innerHTML="<pre>"+o.innerHTML+"</pre>");var i=document.location.href;o.innerHTML+='<br />来源: 套陆的部落阁<br />文章作者: 套陆<br />文章链接: <a href="'+i+'">'+i+"</a><br />本文章著作权归作者所有，任何形式的转载都请注明出处。",n.selectAllChildren(o),window.setTimeout(function(){t.removeChild(o)},200)}}})</script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/codeBlock/codeBlockFuction.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/codeBlock/codeLang.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/codeBlock/codeCopy.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/tocbot/tocbot.min.js"></script><script>$(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('2'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });</script></main><footer class="page-footer bg-color"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/aplayer/APlayer.min.css"><style>.aplayer .aplayer-lrc p{display:none;font-size:12px;font-weight:700;line-height:16px!important}.aplayer .aplayer-lrc p.aplayer-lrc-current{display:none;font-size:15px;color:#b7daff}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><div><div class="row"><meting-js class="col l8 offset-l2 m10 offset-m1 s12" server="netease" type="playlist" id="327690691" fixed="true" autoplay theme="#b7daff" loop order="random" preload="auto" volume="0.7" list-folded="true"></meting-js></div></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/aplayer/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><div class="container row center-align" style="margin-bottom:0!important"><div class="col s12 m8 l8 copy-right"><span id="icp"><img src="https://cdn.jsdelivr.net/gh/tlhub/1/gabico.png" style="vertical-align:text-bottom"> <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11011302002019" rel="external nofollow noreferrer" target="_blank">京公网安备 11011302002019号</a> &nbsp;|&nbsp; <a href="http://www.beian.miit.gov.cn/" rel="external nofollow noreferrer" target="_blank">京ICP备20017043号-1</a></span><br>Copyright&nbsp;&copy; <span id="year">2017</span> <a href="/about" target="_blank">套陆</a> | CDN BY &nbsp;<a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" rel="external nofollow noreferrer"><img src="https://cdn.jsdelivr.net/gh/tlhub/picbed-1/又拍云_logo6.png" style="height:25px;margin-bottom:-6px"></a><br>&nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span class="white-color">130.9k</span>&nbsp;字 <span id="busuanzi_container_site_pv">|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv" class="white-color"></span>&nbsp;次</span> <span id="busuanzi_container_site_uv">|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv" class="white-color"></span>&nbsp;人</span><script>$(document).ready(function(){var e=setInterval(function(){"none"!=document.getElementById("busuanzi_container_site_pv").style.display&&($("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html())+n),clearInterval(e));"none"!=$("#busuanzi_container_site_pv").css("display")&&($("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html())+n),clearInterval(e))},50),n=2e5})</script></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/athlonreg" rel="external nofollow noreferrer" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i></a><a href="mailto:1143991340@qq.com" rel="external nofollow noreferrer" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i></a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1143991340" rel="external nofollow noreferrer" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1143991340" data-position="top" data-delay="50"><i class="fab fa-qq"></i></a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div><br></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i> &nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/js/search.js"></script><script>$(function(){searchFunc("https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/materialize/materialize.min.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/masonry/masonry.pkgd.min.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/aos/aos.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/scrollprogress/scrollProgress.min.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/js/matery.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/others/clicklove.js" async></script><script async src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/others/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/instantpage/instantpage.js" type="module"></script></body></html>