<!DOCTYPE HTML><html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="keywords" content="Jenkins 配置部署, 套陆的博客,套陆的部落阁,套陆,athlonreg,canvas,黑苹果,资源,建站,hexo,Hackintosh,tlhub"><meta name="description" content="本站所有软件均来自于互联网和部分原创，意在推广优秀的软件应用，和分享软件使用技巧及心得。如本站内容无意中侵犯了您相关版权，请在首页点击邮箱按钮来信告知，我会第一时间处理侵权内容。为避免资源浪费，本站发布的软件和驱动资源采用增量更新的方式，更新的资源不再发布新帖，更新的帖子将在推荐帖下的文章列表置顶显示，请知悉。^_^"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="baidu_union_verify" content="4e839f89679ffccd45aadacf60546450"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-165042084-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-165042084-1")</script><title>Jenkins 配置部署 | 套陆的部落阁</title><link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/awesome/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/materialize/materialize.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/aos/aos.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/animate/animate.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/css/matery.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/css/my.css"><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/live2d/autoload.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/jquery/jquery.min.js"></script><script data-ad-client="ca-pub-7406269002228687" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="套陆的部落阁" type="application/atom+xml"><link rel="stylesheet" href="/css/prism-tomorrow.css"><link rel="stylesheet" href="/css/prism-line-numbers.css"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/favicon.ico" class="logo-img" alt="LOGO"> <span class="logo-span">套陆的部落阁</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>标签</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>归档</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fas fa-comments" style="zoom:.6"></i> <span>留言板</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fas fa-address-book" style="zoom:.6"></i> <span>友情链接</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/favicon.ico" class="logo-img circle responsive-img"><div class="logo-name">套陆的部落阁</div><div class="logo-desc">本站所有软件均来自于互联网和部分原创，意在推广优秀的软件应用，和分享软件使用技巧及心得。如本站内容无意中侵犯了您相关版权，请在首页点击邮箱按钮来信告知，我会第一时间处理侵权内容。为避免资源浪费，本站发布的软件和驱动资源采用增量更新的方式，更新的资源不再发布新帖，更新的帖子将在推荐帖下的文章列表置顶显示，请知悉。^_^</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> 标签</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 归档</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fa-fw fas fa-comments"></i> 留言板</a></li><li class="m-nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fa-fw fas fa-address-book"></i> 友情链接</a></li><li><div class="divider"></div></li><li><a href="https://github.com/athlonreg" rel="external nofollow noreferrer" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i> Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/athlonreg" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/cryptojs/crypto-js.min.js"></script><script>(function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();</script><div class="bg-cover pd-header post-cover" style="background-image:url(https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/bd/e3fd089257fe9caf4f4247f203d4bd.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">Jenkins 配置部署</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px}.toc-widget .toc-title{margin:35px 0 15px 0;padding-left:17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{height:calc(100vh - 250px);overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px;position:absolute;right:23.5vw;display:block}#toc-content .is-active-link{color:#42b983}#floating-toc-btn{position:fixed;right:25px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/Jenkins/"><span class="chip bg-color">Jenkins</span></a> <a href="/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/"><span class="chip bg-color">持续集成</span></a></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/CI/" class="post-category">CI</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i> 发布日期:&nbsp;&nbsp; 2018-08-22</div><div class="post-date info-break-policy"><i class="far fa-calendar-check fa-fw"></i> 更新日期:&nbsp;&nbsp; 2020-04-30</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i> 文章字数:&nbsp;&nbsp; 3.5k</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i> 阅读时长:&nbsp;&nbsp; 13 分</div><div id="busuanzi_container_page_pv" class="info-break-policy"><i class="far fa-eye fa-fw"></i> 阅读次数:&nbsp;&nbsp;<span id="busuanzi_value_page_pv"></span></div></div></div><hr class="clearfix"><div class="card-content article-card-content"><div id="articleContent"><h1 id="Jenkins-配置部署"><a href="#Jenkins-配置部署" class="headerlink" title="Jenkins 配置部署"></a><center><code>Jenkins</code> 配置部署</center></h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Jenkins是一个开源的、提供友好操作界面的持续集成(CI)工具，起源于Hudson（Hudson是商用的），主要用于持续、自动的构建/测试软件项目、监控外部任务的运行。Jenkins用Java语言编写，可在Tomcat等流行的servlet容器中运行，也可独立运行。通常与版本管理工具(SCM)、构建工具结合使用；常用的版本管理系统有SVN、GIT，构建工具有Maven、Ant、Gradle。其具备以下特点：</p><ul><li>易于安装：不需要安装、不需要数据库，只需通过java -jar jenkins.war或部署到一个servlet容器中。</li><li>易于配置：所有的配置都可能通过Jenkins提供的web界面完成，当然如果你喜欢，也可以通过手动修改xml文件进行配置。</li><li>消息通知及测试报告：能够生成各类测试报告并通过消息通知机制（Email等）进行报告，包括单元测试、覆盖率测试、静态分析等。</li><li>分布式构建：Jenkins支持多个Slave节点的动态挂载，完成分布式构建。</li><li>资源动态调度：Jenkins的容器资源通过Kubernetes动态调度，动态扩容收缩。</li><li>插件支持：Jenkins支持上千种插件，可以进行扩展，也可以根据需求近定制开发。</li></ul><h2 id="安装部署"><a href="#安装部署" class="headerlink" title="安装部署"></a>安装部署</h2><p>以CentOS环境安装部署为例，详细介绍Jenkins安装部署整体过程和常用设置。</p><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><h4 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h4><p>如果使用Jenkins.war包的形式进行安装，需要提前准备以下环境。</p><h5 id="Java环境准备"><a href="#Java环境准备" class="headerlink" title="Java环境准备"></a>Java环境准备</h5><h6 id="去官网下载JDK："><a href="#去官网下载JDK：" class="headerlink" title="去官网下载JDK："></a>去官网下载<code>JDK</code>：</h6><p><a href="http://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html" target="_blank" rel="noopener external nofollow noreferrer">http://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html</a></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/81/1b33b7e9dbe92a1515154d0193194f.jpg" alt=""></p><h6 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h6><ul><li>将下载得到的<code>jdk-8u161-linux-x64.rpm</code>包保存到<code>Linux</code>主机</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># rpm -ivh jdk-8u161-linux-x64.rpm</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/ad/4301bf0ab8d0d138ded7bc3709fd4a.jpg" alt=""></p><h6 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h6><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># vim ~/.bashrc</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在文件的末尾添加以下行</p><pre><code>export JAVA_HOME=/usr/java/jdk1.8.0_161
export JRE_HOME=$JAVA_HOME/jre
export CLASSPATH=$JAVA_HOME/lib
export PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin:$CLASSPATH</code></pre><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/49/6ac74e90a641e355b29b9c4d17deb9.jpg" alt=""></p><p>使环境配置生效</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># source ~/.bashrc</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h6 id="测试Java环境"><a href="#测试Java环境" class="headerlink" title="测试Java环境"></a>测试<code>Java</code>环境</h6><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># java -version</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>&emsp;&emsp;查看是否正常显示版本信息，若显示则安装成功</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/2f/49c7d622b298ae690db3c13754c1b1.jpg" alt=""></p><h5 id="Tomcat环境准备"><a href="#Tomcat环境准备" class="headerlink" title="Tomcat环境准备"></a>Tomcat环境准备</h5><h6 id="下载Tomcat"><a href="#下载Tomcat" class="headerlink" title="下载Tomcat"></a>下载Tomcat</h6><blockquote><p>地址: <a href="http://mirrors.shu.edu.cn/apache/tomcat/tomcat-8/v8.5.32/bin/apache-tomcat-8.5.32.tar.gz" target="_blank" rel="noopener external nofollow noreferrer">http://mirrors.shu.edu.cn/apache/tomcat/tomcat-8/v8.5.32/bin/apache-tomcat-8.5.32.tar.gz</a></p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># wget http://mirrors.shu.edu.cn/apache/tomcat/tomcat-8/v8.5.32/bin/apache-tomcat-8.5.32.tar.gz</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h6 id="安装Tomcat"><a href="#安装Tomcat" class="headerlink" title="安装Tomcat"></a>安装Tomcat</h6><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># tar zxvf apache-tomcat-8.5.32.tar.gz</span>
<span class="token comment" spellcheck="true"># mv apache-tomcat-8.5.32 /usr/local/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h6 id="配置Tomcat环境"><a href="#配置Tomcat环境" class="headerlink" title="配置Tomcat环境"></a>配置Tomcat环境</h6><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># vim ~/.bashrc</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在文件的末尾添加以下行</p><pre><code>export CATALINA_BASE=/usr/local/apache-tomcat-8.5.32
export TOMCAT_HOME=/usr/local/apache-tomcat-8.5.32
export CATALINA_HOME=/usr/local/apache-tomcat-8.5.32
export PATH=$PATH:$CATALINA_HOME/bin:$CATALINA_HOME/lib</code></pre><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/66/1656ee9280886c6c7de6057c8835cd.jpg" alt=""></p><p>使环境配置生效</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># source ~/.bashrc</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h6 id="启动Tomcat服务"><a href="#启动Tomcat服务" class="headerlink" title="启动Tomcat服务"></a>启动Tomcat服务</h6><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># startup.sh</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/f9/4e6e503aa6fe748959adfb182e3e1c.jpg" alt=""></p><h6 id="测试Tomcat"><a href="#测试Tomcat" class="headerlink" title="测试Tomcat"></a>测试Tomcat</h6><p>打开浏览器，在地址栏中输入<a href="http://IP:8080回车，如果看到Tomcat自带的一个JSP页面，说明你的Tomcat已搭建成功" rel="external nofollow noreferrer">http://IP:8080回车，如果看到Tomcat自带的一个JSP页面，说明你的Tomcat已搭建成功</a></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/43/36596794bdf3af70f1ecd35f8c40a0.jpg" alt=""></p><h3 id="安装部署-1"><a href="#安装部署-1" class="headerlink" title="安装部署"></a>安装部署</h3><h4 id="下载war文件"><a href="#下载war文件" class="headerlink" title="下载war文件"></a>下载war文件</h4><pre><code># wget http://mirrors.jenkins.io/war-stable/latest/jenkins.war</code></pre><h4 id="安装Jenkins"><a href="#安装Jenkins" class="headerlink" title="安装Jenkins"></a>安装Jenkins</h4><p>将下载后的war包放到/usr/local/apache-tomcat-8.5.32/webapps/目录下，启动tomcat即可， 或者用命令<code>java -jar jenkins.war</code>。</p><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><p>打开浏览器输入<a href="http://IP:8080/jenkins回车即可看到jenkin初始配置界面，按照提示进行设置。" target="_blank" rel="noopener external nofollow noreferrer">http://IP:8080/jenkins回车即可看到jenkin初始配置界面，按照提示进行设置。</a></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/27/4f737ebea43eb34f747fb68a08b6fa.jpg" alt=""></p><h3 id="常用设置"><a href="#常用设置" class="headerlink" title="常用设置"></a>常用设置</h3><h5 id="邮件设置"><a href="#邮件设置" class="headerlink" title="邮件设置"></a>邮件设置</h5><p>Jenkins-&gt;系统管理-&gt;系统设置，弹出如下图所示：</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/b0/075e39aad15468d3eb9cc0f6bf37f7.jpg" alt=""></p><ul><li>SMTP服务器：为邮箱服务地址。<ul><li>QQ: smtp.qq.com</li><li>163: smtp.163.com</li></ul></li><li>用户默认后缀：可以自动识别，只需填写用户即可。</li><li>其他配置为Jenkins邮箱默认用户及采用的认证方式。</li></ul><h5 id="Job设置"><a href="#Job设置" class="headerlink" title="Job设置"></a>Job设置</h5><p>在需要邮件通知的Job设置里面增加”构建后操作步骤” -&gt; 选择E-mail Notification。</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/82/3005620b29b6fc4b2c9e3ce729af8b.jpg" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/9e/a3153b262215e17561eb34674635e2.jpg" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/6d/dce01f6fa0a84d625f0eb55759c422.jpg" alt=""></p><h5 id="扩展插件设置"><a href="#扩展插件设置" class="headerlink" title="扩展插件设置"></a>扩展插件设置</h5><p>但是如果你群发的收件人列表比较多，或者每次通知的人不一样，比如每次只想通知导致构建失败的那个人（即最后一次上传代码的人），那么简单的E-mail Notification就不能满足要求，需要使用Email extension plugin插件。</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/18/0775061dcf193cc08da229cef10eda.jpg" alt=""></p><ul><li><p>SMTP server – 设置SMTP服务器地址</p></li><li><p>Default user E-mail suffix – 设置用户默认邮件后缀</p></li><li><p>Default Content Type – 默认内容类型(Plain Text HTML)</p></li><li><p>Default Subject – 默认邮件主题</p></li><li><p>Default Content – 默认邮件内容，可以设置模板</p></li><li><p>Default Triggers – 触发器</p></li><li><input disabled type="checkbox"><p>全局配置<br>根据实际情况勾选需要触发邮件通知的事件。点击上图右下角Default Trigger，弹出如下触发项：</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/69/3127442cf5a527b984d83738c31e6f.jpg" alt=""></p><ul><li><input disabled type="checkbox"> 项目配置<br>进入到具体的项目配置界面点击”配置，在配置界面点击”增加构建后操作步骤”，选择”Editable Email Notification”。</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/71/133a454b2ee120f2b1df930b4ca9fe.jpg" alt=""></p><p>可以在“Advanced Settings”中针对该项目进行个性化的配置。可以针对该项目定义该项目通知的收件人列表、主题、内容、附件等。</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/53/67346392186853caab6ee621418aa4.jpg" alt=""></p><h4 id="任务创建"><a href="#任务创建" class="headerlink" title="任务创建"></a>任务创建</h4><h5 id="构建项目类型"><a href="#构建项目类型" class="headerlink" title="构建项目类型"></a>构建项目类型</h5><p>点击 Jenkins 首页”创建一个新任务”的链接，弹出如下图所示页面。</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/04/c97a32a6b1285a76a6edb8497a1cd3.jpg" alt=""></p><p>Jenkins 提供了六种类型的任务。</p><ul><li><p>构建一个自由风格的软件项目<br>这是Jenkins的主要功能。Jenkins 会结合任何 SCM 和任何构建系统来构建你的项目, 甚至可以构建软件以外的系统。</p></li><li><p>Pipeline(流水线)<br>Orchestrates long-running activities that can span multiple build slaves. Suitable for building pipelines (formerly known as workflows) and/or organizing complex activities that do not easily fit in free-style job type. – 很难用一两句话说清 Pipeline, 参考 , 后面另起一文来介绍。</p></li><li><p>构建一个多配置项目<br>适用于多配置项目,例如多环境测试、平台指定构建,等等。</p></li><li><p>GitHub Organization<br>Scans a GitHub organization (or user account) for all repositories matching some defined markers. – 这个主要针对由 Github 托管的项目。</p></li><li><p>Multibranch Pipeline(多分支流水线)<br>Creates a set of Pipeline projects according to detected branches in one SCM repository. 根据一个SCM存储库中检测到的分支创建一组 Pipeline 项目。</p></li><li><p>文件夹<br>创建一个可以嵌套存储的容器。利用它可以进行分组。 视图仅仅是一个过滤器，而文件夹则是一个独立的命名空间， 因此你可以有多个相同名称的的内容，只要它们在不同的文件 夹里即可。</p></li></ul><p>这里选择第一个：构建一个自由风格的软件项目， 输入项目名称：python test project ，点击”确定”按钮。</p><h5 id="构建-Windows-测试任务"><a href="#构建-Windows-测试任务" class="headerlink" title="构建 Windows 测试任务"></a>构建 Windows 测试任务</h5><p>假设，有一个 Python 编写的测试脚本 py_tests.py ，其绝对路径为/root/py_tests.py，内容如下：</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span> <span class="token string">"Hello world"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在Linux下怎么执行这个测试用例，打开终端</p><pre><code>[root@centos-7 ~]# cd
[root@centos-7 ~]# ll py_tests.py
-rw-r--r--. 1 root root 20 8月  16 16:07 py_tests.py
[root@centos-7 ~]# python py_tests.py
Hello world
[root@centos-7 ~]#</code></pre><p>下面回到Jenkins的配置过程中</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/ab/46e2f5d22700eb539eac4128e19c85.jpg" alt=""></p><p>添加项目的描述：Python 测试项目，打印Hello world。</p><p>剩下的选项都不要管，拖到页面底部，构建 选项。</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/e0/dab0e9e3d049db8a84ee83f85582de.jpg" alt=""></p><p>选择<code>执行shell</code>选项，执行Linux shell命令。</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/c6/ef1db64d383033d03b465af7f3771d.jpg" alt=""></p><p>如上图，输入你在 Linux 终端下所输的命令<code>python /root/py_tests.py</code>。 点击<code>保存</code>。</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/8f/6c232d4632eb024fa2cadcf0fbfc13.jpg" alt=""></p><p>一个极简的，基于 Linux 系统的 Python 脚本测试持续集成项目就创建完成了。</p><h4 id="节点添加"><a href="#节点添加" class="headerlink" title="节点添加"></a>节点添加</h4><p>Jenkins有个很强大的功能：分布式构建(在Jenkins的配置中叫做节点)，分布式构建能够让同一套代码在不同的环境(如：Windows和Linux系统)中编译、测试等。而且Jenkins构建的代码和产物最后自动拷贝到主节点。</p><p><strong>注意：如果节点主机上不存在JDK，Jenkins会去自动下载。</strong></p><p><strong>建议：所有Unix或者Windows机器的环境路径统一(如：JDK、Ant、Maven)，好处是便于管理、不容易出现奇葩问题。</strong></p><h5 id="新建节点"><a href="#新建节点" class="headerlink" title="新建节点"></a>新建节点</h5><p>系统管理 → 管理节点 → 新建节点(左上角)，如下图所示：</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/1e/067a4f7fa85272fa79f85208c937c0.jpg" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/eb/3eb8f07110c1e29abe65035fdc2b04.jpg" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/bb/e82fc1380ecf612e70e06bc156e17e.jpg" alt=""></p><p>&emsp;&emsp;节点名称：建议使用字母、数字或字母和数字的组合。最好见名知意。不建议使用标点符号和中文(中文命名没有问题，但Job中无法引用)。</p><h5 id="配置节点"><a href="#配置节点" class="headerlink" title="配置节点"></a>配置节点</h5><ul><li>Name(名称)：节点名称</li><li>Description(描述)：节点描述，支持中文</li><li>并发构建数：最大同时构建数量(根据机器的性能定，单颗四核cpu建议不要超过5) - 必须为数字</li><li>远程工作目录：节点的根目录(注意：如果目录不存在，会自动创建目录。你必须对该目录有读写权限，不然会报错)</li><li>标签：标记(又叫做标签)用来对多节点分组,标记之间用空格分隔.例如’refression java6’将会把一个节点标记上’regression’和’java6’.</li></ul><blockquote><p>例来说,如果你有多个Linux系统的构建节点并且你的Job也需要在Linux系统上运行,那么你可以配置所有的Linux系统节点都标记为’windows’, 然后把Job也标记为’Linux’.这样的话你的Job就不会运行在除了Linux节点以外的其它节点之上了.<br>Linux用法：尽可能的使用这个节点/只允许运行绑定到这台机器的Job(根据你的需求，二选一)</p></blockquote><ul><li>启动方式：<ul><li>Linux节点：推荐 – Launch slave agents via SSH， 在Unix(包括Linux)机器上通过SSH通道连接节点 (适用于Unix和Linux)</li><li>Host(主机)：节点主机的ip地址</li><li>Credentials：凭据(如果为空或者不可选择，请在系统管理→Manage Credentials中配置。Manage Credentials的配置非常简单，这里就不在描述了。Manage Credentials配置完成后，需刷新节点配置页面才会显示。)</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/35/d7416430314fd19e34a01ac59ff464.jpg" alt=""></p><h5 id="节点连接"><a href="#节点连接" class="headerlink" title="节点连接"></a>节点连接</h5><p>以Launch slave agents via SSH为例，选择Manually trusted key Verification Strategy，然后点击最下面的保存。</p><p>Jenkins -&gt; 系统管理 -&gt; 系统设置，设置SSH Server</p><ul><li>Name: 这个可以随意写</li><li>Hostname: 远程主机的IP地址</li><li>Username: 远程主机登录的用户名</li><li>Remote Directory: 远程目录</li></ul><p>如图设置好信息后，点击下面的保存</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/3f/b787c0c1b5bab76ad878fbb47542ad.jpg" alt=""></p><p>Jenkins -&gt; 系统管理 -&gt; 管理节点，点击刚刚配置好的节点，上线节点</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/1d/1f61d958c23269f4fcc4a7ae295b0b.jpg" alt=""></p><p>回到节点列表后发现节点就已经成功上线了</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/a4/346c91e15903e43bc6759a7c566502.jpg" alt=""></p><h4 id="角色权限"><a href="#角色权限" class="headerlink" title="角色权限"></a>角色权限</h4><p>由于jenkins默认的权限管理体系不支持用户组或角色的配置，因此需要安装第三发插件来支持角色的配置，本文将使用Role Strategy Plugin，介绍页面：<a href="https://wiki.jenkins-ci.org/display/JENKINS/Role+Strategy+Plugin。" target="_blank" rel="noopener external nofollow noreferrer">https://wiki.jenkins-ci.org/display/JENKINS/Role+Strategy+Plugin。</a></p><h5 id="配置插件"><a href="#配置插件" class="headerlink" title="配置插件"></a>配置插件</h5><p>安装插件后，进入系统设置页面，配置如下：</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/89/a69327d3e04b1b57ff022132e9f5a5.jpg" alt=""></p><h5 id="配置权限"><a href="#配置权限" class="headerlink" title="配置权限"></a>配置权限</h5><p>在系统管理页面点击Manage and Assign Roles进入角色管理页面</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/90/a06f0b7e2eff8c0a9d81576497ff0c.jpg" alt=""></p><p>进入之后</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/be/1bbe3e8858dbac44ac5a1fa2451883.jpg" alt=""></p><ul><li>管理角色（Manage Roles）<br>选择该项可以创建全局角色、项目角色，并可以为角色分配权限。</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/b8/ea91c0ea7091dca3faf3c86356da16.jpg" alt=""></p><p>;如上图，分别创建了admin、anonymous两个全局角色，Online Program、test两个项目角色。</p><p>&emsp;&emsp;项目角色与全局角色的区别就是，项目角色只能管理项目，没有管理jenkins的权限配置。</p><p>&emsp;&emsp;添加项目角色时，需要指定匹配项目的模式，如上图中的Pattern，官方文档介绍该选项支持正则表达式，如”Roger-.”表示所有以Roger-开头的项目，<code>(?i)roger-.*</code>表示以roger-开头的项目并且不区分大小写，如以ABC开头的项目可以配置为”ABC|ABC.*”，也可以使用”abc|bcd|efg”直接匹配多个项目。</p><ul><li>创建用户<br>在分配角色之前需要先创建用户。<br>在系统管理页面，点击管理用户：</li></ul><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/2e/6a8a273181a5357a4ca587a5c2ced9.jpg" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/60/d8fa2030fff834872c259f65720958.jpg" alt=""></p><p>&emsp;&emsp;点击新建使用者可以创建新用户，点击用户ID或名称都可以修改用户信息。</p><p>&emsp;&emsp;选择Assign Roles可以为用户分配所属角色，可以分配全局角色和项目角色。</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/57/385c466d213dd9ead86034162d9029.jpg" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/93/ddef492ecd2995c5731ea8eb1e9ee1.jpg" alt=""></p><p>&emsp;&emsp;如上图，将不同的用户分别分配给不同的角色，这样用户就可以具有角色所拥有的权限。</p><h3 id="运行与维护"><a href="#运行与维护" class="headerlink" title="运行与维护"></a>运行与维护</h3><h4 id="Jenkins升级"><a href="#Jenkins升级" class="headerlink" title="Jenkins升级"></a>Jenkins升级</h4><ul><li>说明：Jenkins迭代更新很频繁，一般1周更新一次，半年一个大版本。</li><li>升级：下载新的war包，替换旧的war包，重启即可。下载地址为<a href="http://mirrors.jenkins-ci.org/。" target="_blank" rel="noopener external nofollow noreferrer">http://mirrors.jenkins-ci.org/。</a></li></ul><p><strong>PS：升级前，请测试该版本和你本地数据的兼容性。如何测试：将JENKINS_HOME拷贝一份到新的机器，用新版的程序启动。测试对应的插件和配置。</strong></p><h4 id="Jenkins迁移和备份"><a href="#Jenkins迁移和备份" class="headerlink" title="Jenkins迁移和备份"></a>Jenkins迁移和备份</h4><p>首先找到JENKINS_HOME，一般在用户根目录下.jenkins目录，因为Jenkins的所有的数据都是以文件的形式存放在JENKINS_HOME目录中。所以不管是迁移还是备份，只需要操作JENKINS_HOME就行了。</p><ul><li><p>迁移：建议将JENKINS_HOME打包后再拷贝，Windows上可以用zip，rar等，Linux上有zip，tar等。然后将打包的文件解压到新的JENKINS_HOME目录就行了。</p></li><li><p>备份：如果是临时备份，整个压缩文件就行了。</p></li><li><p>恢复：恢复的时候需要先停止jenkins。</p></li></ul><h4 id="移动，删除或修改jobs"><a href="#移动，删除或修改jobs" class="headerlink" title="移动，删除或修改jobs"></a>移动，删除或修改jobs</h4><p>对于移动或删除jobs，只需要简单地移动或删除<code>$JENKINS_HOME/jobs</code>目录。<br>对于修改jobs的名字，只需要简单地修改<code>$JENKINS_HOME/jobs</code>下对应job的文件夹的名字。<br>对于不经常使用的job，只需要对<code>$JENKINS_HOME/jobs</code>下对应的jobs的目录zip或tar后存储到其他的地方。</p><h4 id="Jenkins-启动时的命令行参数"><a href="#Jenkins-启动时的命令行参数" class="headerlink" title="Jenkins 启动时的命令行参数"></a>Jenkins 启动时的命令行参数</h4><table><thead><tr><th><code>--httpPort=$HTTP_PORT</code></th><th>用来设置jenkins运行时的web端口。</th></tr></thead><tbody><tr><td><code>--httpsPort=$HTTP_PORT</code></td><td>表示使用https协议。</td></tr><tr><td><del>~</del>–httpListenAddress=$HTTP_HOST</td><td>用来指定jenkins监听的ip范围，默认为所有的ip都可以访问此jenkins server。</td></tr></tbody></table><h4 id="修改jenkins的timezone"><a href="#修改jenkins的timezone" class="headerlink" title="修改jenkins的timezone"></a>修改jenkins的timezone</h4><p>如果jenkins所在的server的timezone不同于用户的timezone，这时候需要修改jenkins的timezone，需要在jenkins启动的时候增加下列参数-Dorg.apache.commons.jelly.tags.fmt.timeZone=TZ。</p><h4 id="查看jenkins的系统信息"><a href="#查看jenkins的系统信息" class="headerlink" title="查看jenkins的系统信息"></a>查看jenkins的系统信息</h4><p>以在jenkins的管理页面下的系统信息中，查看所有的jenkins的信息，例如jenkins的启动配置，所依赖的系统的环境变量，所安装的plugins。</p><h4 id="Jenkins中执行batch和Python"><a href="#Jenkins中执行batch和Python" class="headerlink" title="Jenkins中执行batch和Python"></a>Jenkins中执行batch和Python</h4><p>Jenkins的job -&gt; build 支持Ant，maven，windows batch和Shell， 但是我们知道python，perl，ruby等脚本其实也是shell脚本，所以这里的Shell可以扩展为python，perl，ruby等。如图</p><p><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/99/04a1d6c847be966e185435823bb110.jpg" alt=""></p><h3 id="Jenkins-整合-LDAP-以及-CAS-单点登录"><a href="#Jenkins-整合-LDAP-以及-CAS-单点登录" class="headerlink" title="Jenkins 整合 LDAP 以及 CAS 单点登录"></a>Jenkins 整合 LDAP 以及 CAS 单点登录</h3><p>参考另外一篇博客<br><a href="https://blog.iamzhl.top/Jenkins-integrate-with-ldap-and-CAS.html" target="_blank" rel="noopener external nofollow noreferrer">Jenkins 整合 LDAP 以及 CAS 单点登录</a></p></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者:</i></span> <span class="reprint-info"><a href="https://blog.tlhub.cn" rel="external nofollow noreferrer">套陆</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接:</i></span> <span class="reprint-info"><a href="https://blog.tlhub.cn/Jenkins-configure-and-deploy.html">https://blog.tlhub.cn/Jenkins-configure-and-deploy.html</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明:</i></span> <span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tlhub.cn" target="_blank">套陆</a> !</span></div></div><script async defer>document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/Jenkins/"><span class="chip bg-color">Jenkins</span></a> <a href="/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/"><span class="chip bg-color">持续集成</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/share/js/social-share.min.js"></script></div></div></div><style>#reward{margin:40px 0;text-align:center}#reward .reward-link{font-size:1.4rem;line-height:38px}#reward .btn-floating:hover{box-shadow:0 6px 12px rgba(0,0,0,.2),0 5px 15px rgba(0,0,0,.2)}#rewardModal{width:320px;height:350px}#rewardModal .reward-title{margin:15px auto;padding-bottom:5px}#rewardModal .modal-content{padding:10px}#rewardModal .close{position:absolute;right:15px;top:15px;color:rgba(0,0,0,.5);font-size:1.3rem;line-height:20px;cursor:pointer}#rewardModal .close:hover{color:#ef5350;transform:scale(1.3);-moz-transform:scale(1.3);-webkit-transform:scale(1.3);-o-transform:scale(1.3)}#rewardModal .reward-tabs{margin:0 auto;width:210px}.reward-tabs .tabs{height:38px;margin:10px auto;padding-left:0}.reward-content ul{padding-left:0!important}.reward-tabs .tabs .tab{height:38px;line-height:38px}.reward-tabs .tab a{color:#fff;background-color:#ccc}.reward-tabs .tab a:hover{background-color:#ccc;color:#fff}.reward-tabs .wechat-tab .active{color:#fff!important;background-color:#22ab38!important}.reward-tabs .alipay-tab .active{color:#fff!important;background-color:#019fe8!important}.reward-tabs .reward-img{width:210px;height:210px}</style><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/medias/reward/wechatpay.jpg" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/gitalk/gitalk.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/css/my-gitalk.css"><div class="card gitalk-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="gitalk-container" class="card-content"></div></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/gitalk/gitalk.min.js"></script><script>let gitalk = new Gitalk({
        clientID: 'ae84231acb9f9d755d64',
        clientSecret: '999406dd97c504a700abe350a711868e1000fcec',
        repo: 'athlonreg.github.io',
        owner: 'athlonreg',
        admin: "athlonreg",
        id: '2018-08-22T11-36-45',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i> &nbsp;上一篇</div><div class="card"><a href="/Gerrit-install-and-deploy.html"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/79/114d466e1f80823db828265ede65ee.jpg" class="responsive-img" alt="CentOS 安装部署 Gerrit"> <span class="card-title">CentOS 安装部署 Gerrit</span></div></a><div class="card-content article-content"><div class="summary block-with-text">CentOS安装部署代码审查工具--Gerrit</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2018-08-22</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/Linux/" class="post-category">Linux</a></span></div></div><div class="card-action article-tags"><a href="/tags/Gerrit/"><span class="chip bg-color">Gerrit</span></a> <a href="/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5/"><span class="chip bg-color">代码审查</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/SonarQube-install-and-deploy.html"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/athlonreg/BlogImages/Images/b4/92864641223d1537b6f4dfa27a6358.jpg" class="responsive-img" alt="SonarQube 安装部署"> <span class="card-title">SonarQube 安装部署</span></div></a><div class="card-content article-content"><div class="summary block-with-text">SonarQube安装部署以及代码分析实例过程小记</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2018-08-20</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/CI/" class="post-category">CI</a></span></div></div><div class="card-action article-tags"><a href="/tags/SonarQube/"><span class="chip bg-color">SonarQube</span></a> <a href="/tags/sonar-scanner/"><span class="chip bg-color">sonar-scanner</span></a></div></div></div></div></article></div><script>$("#articleContent").on("copy",function(e){if(void 0!==window.getSelection){var n=window.getSelection();if(!((""+n).length<Number.parseInt("60"))){var t=document.getElementsByTagName("body")[0],o=document.createElement("div");o.style.position="absolute",o.style.left="-99999px",t.appendChild(o),o.appendChild(n.getRangeAt(0).cloneContents()),"PRE"===n.getRangeAt(0).commonAncestorContainer.nodeName&&(o.innerHTML="<pre>"+o.innerHTML+"</pre>");var i=document.location.href;o.innerHTML+='<br />来源: 套陆的部落阁<br />文章作者: 套陆<br />文章链接: <a href="'+i+'">'+i+"</a><br />本文章著作权归作者所有，任何形式的转载都请注明出处。",n.selectAllChildren(o),window.setTimeout(function(){t.removeChild(o)},200)}}})</script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/codeBlock/codeBlockFuction.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/codeBlock/codeLang.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/codeBlock/codeCopy.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/tocbot/tocbot.min.js"></script><script>$(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('2'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });</script></main><footer class="page-footer bg-color"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/aplayer/APlayer.min.css"><style>.aplayer .aplayer-lrc p{display:none;font-size:12px;font-weight:700;line-height:16px!important}.aplayer .aplayer-lrc p.aplayer-lrc-current{display:none;font-size:15px;color:#b7daff}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><div><div class="row"><meting-js class="col l8 offset-l2 m10 offset-m1 s12" server="netease" type="playlist" id="327690691" fixed="true" autoplay theme="#b7daff" loop order="random" preload="auto" volume="0.7" list-folded="true"></meting-js></div></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/aplayer/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><div class="container row center-align" style="margin-bottom:0!important"><div class="col s12 m8 l8 copy-right"><span id="icp"><img src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/medias/icp.png" style="vertical-align:text-bottom"> &nbsp;<a href="http://www.beian.miit.gov.cn/" rel="external nofollow noreferrer" target="_blank">京ICP备20017043号-1</a></span><br>Copyright&nbsp;&copy; <span id="year">2017</span> <a href="/about" target="_blank">套陆</a> | CDN BY &nbsp;<a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" rel="external nofollow noreferrer"><img src="https://cdn.jsdelivr.net/gh/tlhub/picbed-1/又拍云_logo6.png" style="height:25px;margin-bottom:-6px"></a><br>&nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span class="white-color">126.5k</span>&nbsp;字 <span id="busuanzi_container_site_pv">|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv" class="white-color"></span>&nbsp;次</span> <span id="busuanzi_container_site_uv">|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv" class="white-color"></span>&nbsp;人</span><script>$(document).ready(function(){var e=setInterval(function(){"none"!=document.getElementById("busuanzi_container_site_pv").style.display&&($("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html())+n),clearInterval(e));"none"!=$("#busuanzi_container_site_pv").css("display")&&($("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html())+n),clearInterval(e))},50),n=2e5})</script></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/athlonreg" rel="external nofollow noreferrer" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i></a><a href="mailto:1143991340@qq.com" rel="external nofollow noreferrer" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i></a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1143991340" rel="external nofollow noreferrer" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1143991340" data-position="top" data-delay="50"><i class="fab fa-qq"></i></a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div><br></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i> &nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/js/search.js"></script><script>$(function(){searchFunc("https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/materialize/materialize.min.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/masonry/masonry.pkgd.min.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/aos/aos.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/scrollprogress/scrollProgress.min.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/js/matery.js"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?849cf4fa113bc36fac5697a548d0e27c";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/others/clicklove.js" async></script><script async src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/others/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/gh/athlonreg/athlonreg.github.io/libs/instantpage/instantpage.js" type="module"></script></body></html>